function _0x481d(_0x1dcabc,_0x4d2e33){const _0x44c32a=_0x44c3();return _0x481d=function(_0x481d63,_0x946415){_0x481d63=_0x481d63-0xff;let _0x15930a=_0x44c32a[_0x481d63];return _0x15930a;},_0x481d(_0x1dcabc,_0x4d2e33);}const _0x1f78c1=_0x481d;(function(_0x21cf81,_0xf1fc26){const _0x1bce34=_0x481d,_0x39c84f=_0x21cf81();while(!![]){try{const _0x452ca2=-parseInt(_0x1bce34(0x1ba))/0x1+parseInt(_0x1bce34(0x224))/0x2*(parseInt(_0x1bce34(0x1e2))/0x3)+parseInt(_0x1bce34(0x101))/0x4*(parseInt(_0x1bce34(0x1d6))/0x5)+parseInt(_0x1bce34(0x145))/0x6*(-parseInt(_0x1bce34(0x226))/0x7)+-parseInt(_0x1bce34(0x16a))/0x8*(parseInt(_0x1bce34(0x1d2))/0x9)+parseInt(_0x1bce34(0x1c1))/0xa*(parseInt(_0x1bce34(0x112))/0xb)+-parseInt(_0x1bce34(0x1a7))/0xc;if(_0x452ca2===_0xf1fc26)break;else _0x39c84f['push'](_0x39c84f['shift']());}catch(_0x1cde22){_0x39c84f['push'](_0x39c84f['shift']());}}}(_0x44c3,0x30c61));class Renderer{constructor(_0x2d7b0a){const _0x36fb3d=_0x481d;this[_0x36fb3d(0x10f)]=_0x2d7b0a,this[_0x36fb3d(0x119)]=[],this[_0x36fb3d(0x124)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x1f78c1(0x107)](){const _0x1377c5=_0x1f78c1;if(!navigator[_0x1377c5(0x12f)])throw Error(_0x1377c5(0x116));const _0x4ec02f=await navigator['gpu']['requestAdapter']();if(!_0x4ec02f)throw Error('Couldn\x27t\x20request\x20WebGPU\x20adapter.');this['_device']=await _0x4ec02f['requestDevice'](),this[_0x1377c5(0x113)]=this[_0x1377c5(0x10f)][_0x1377c5(0x1f6)](_0x1377c5(0x1ae)),this['_canvasFormat']=navigator[_0x1377c5(0x12f)][_0x1377c5(0x1ef)](),this[_0x1377c5(0x113)][_0x1377c5(0x17d)]({'device':this[_0x1377c5(0x195)],'format':this['_canvasFormat']}),this['resizeCanvas'](),window[_0x1377c5(0x106)](_0x1377c5(0x1f1),this['resizeCanvas'][_0x1377c5(0x1e7)](this));}[_0x1f78c1(0x1eb)](){const _0x28e4e5=_0x1f78c1,_0x51b2db=window['devicePixelRatio']||0x1,_0x19ad72=window[_0x28e4e5(0x174)]*_0x51b2db,_0x4eb2b4=window[_0x28e4e5(0x1d3)]*_0x51b2db;this[_0x28e4e5(0x10f)][_0x28e4e5(0x1c7)]=_0x19ad72,this['_canvas'][_0x28e4e5(0x197)]=_0x4eb2b4,this[_0x28e4e5(0x10f)][_0x28e4e5(0x10d)][_0x28e4e5(0x1c7)]=window[_0x28e4e5(0x174)]+'px',this[_0x28e4e5(0x10f)][_0x28e4e5(0x10d)][_0x28e4e5(0x197)]=window[_0x28e4e5(0x1d3)]+'px',this[_0x28e4e5(0x10f)][_0x28e4e5(0x10d)][_0x28e4e5(0x1e1)]='center',this[_0x28e4e5(0x1e5)]();}async[_0x1f78c1(0x152)](_0x2241e5){const _0xa5a84d=_0x1f78c1;await _0x2241e5[_0xa5a84d(0x107)](),this['_objects']['push'](_0x2241e5);}async[_0x1f78c1(0x1e4)](_0x180b49){const _0x392584=_0x1f78c1;this[_0x392584(0x119)]=this['_objects']['filter'](_0x3cda64=>_0x3cda64!==_0x180b49);}[_0x1f78c1(0x185)](_0x1a0d2d){const _0x117b1a=_0x1f78c1;for(const _0x3b5486 of this[_0x117b1a(0x119)]){_0x3b5486?.[_0x117b1a(0x12a)]();}let _0x4dd3fb=this[_0x117b1a(0x195)][_0x117b1a(0x1de)]();const _0x4fca0b=_0x4dd3fb[_0x117b1a(0x156)]({'colorAttachments':[{'view':_0x1a0d2d,'clearValue':this[_0x117b1a(0x124)],'loadOp':_0x117b1a(0x148),'storeOp':_0x117b1a(0x125)}]});for(const _0x256f13 of this[_0x117b1a(0x119)]){_0x256f13?.[_0x117b1a(0x1e5)](_0x4fca0b);}_0x4fca0b[_0x117b1a(0x12b)]();const _0x466c20=_0x4dd3fb[_0x117b1a(0x1e0)]();for(const _0x27f14c of this[_0x117b1a(0x119)]){_0x27f14c?.[_0x117b1a(0x1a0)](_0x466c20);}_0x466c20['end']();const _0x4f6802=_0x4dd3fb[_0x117b1a(0x138)]();this[_0x117b1a(0x195)][_0x117b1a(0x122)][_0x117b1a(0x14b)]([_0x4f6802]);}[_0x1f78c1(0x1e5)](){const _0x246336=_0x1f78c1;this[_0x246336(0x185)](this[_0x246336(0x113)]['getCurrentTexture']()['createView']());}}class RayTracer extends Renderer{constructor(_0x1b4496){const _0x119c0f=_0x1f78c1;super(_0x1b4496),this[_0x119c0f(0x21f)]=null;}async['init'](){const _0x4ab1ef=_0x1f78c1;if(!navigator[_0x4ab1ef(0x12f)])throw Error(_0x4ab1ef(0x116));const _0x53a519=await navigator[_0x4ab1ef(0x12f)]['requestAdapter']();if(!_0x53a519)throw Error(_0x4ab1ef(0x1ee));this[_0x4ab1ef(0x195)]=await _0x53a519[_0x4ab1ef(0x19b)](),this['_context']=this[_0x4ab1ef(0x10f)][_0x4ab1ef(0x1f6)](_0x4ab1ef(0x1ae)),this[_0x4ab1ef(0x175)]=_0x4ab1ef(0x1ad),this[_0x4ab1ef(0x113)][_0x4ab1ef(0x17d)]({'device':this['_device'],'format':this[_0x4ab1ef(0x175)]}),this[_0x4ab1ef(0x142)]=this[_0x4ab1ef(0x195)][_0x4ab1ef(0x202)]({'label':_0x4ab1ef(0x1f4),'code':_0x4ab1ef(0x1b3)}),this['_outputSizeBuffer']=this[_0x4ab1ef(0x195)][_0x4ab1ef(0x221)]({'label':_0x4ab1ef(0x137),'size':0x8,'usage':GPUBufferUsage[_0x4ab1ef(0x1dd)]|GPUBufferUsage[_0x4ab1ef(0x1bb)]}),this[_0x4ab1ef(0x155)]=this[_0x4ab1ef(0x195)]['createRenderPipeline']({'label':_0x4ab1ef(0x147),'layout':_0x4ab1ef(0x18c),'vertex':{'module':this[_0x4ab1ef(0x142)],'entryPoint':_0x4ab1ef(0x208)},'fragment':{'module':this[_0x4ab1ef(0x142)],'entryPoint':_0x4ab1ef(0x13b),'targets':[{'format':this['_canvasFormat']}]}}),this['_sampler']=this[_0x4ab1ef(0x195)][_0x4ab1ef(0x1a5)]({'label':'Ray\x20Tracer\x20Sampler','magFilter':_0x4ab1ef(0x141),'minFilter':_0x4ab1ef(0x141)}),this[_0x4ab1ef(0x1eb)](),window[_0x4ab1ef(0x106)](_0x4ab1ef(0x1f1),this[_0x4ab1ef(0x1eb)][_0x4ab1ef(0x1e7)](this));}[_0x1f78c1(0x1eb)](){const _0x2ed8d1=_0x1f78c1,_0x414c47=window[_0x2ed8d1(0x1e6)]||0x1,_0x5ed369=window[_0x2ed8d1(0x174)]*_0x414c47,_0x1abab8=window[_0x2ed8d1(0x1d3)]*_0x414c47,_0x5bf97a=_0x5ed369/_0x1abab8,_0x5a62e8=_0x1abab8;let _0x3f8cd7={'width':_0x5a62e8*_0x5bf97a,'height':_0x5a62e8};this['_offScreenTexture']=this['_device'][_0x2ed8d1(0x114)]({'size':_0x3f8cd7,'format':this['_canvasFormat'],'usage':GPUTextureUsage[_0x2ed8d1(0x190)]|GPUTextureUsage[_0x2ed8d1(0x164)]}),this['_tracer']&&(this[_0x2ed8d1(0x21f)][_0x2ed8d1(0x1a3)]=this['_offScreenTexture']['width'],this[_0x2ed8d1(0x21f)]['_imgHeight']=this[_0x2ed8d1(0x17f)][_0x2ed8d1(0x197)],this[_0x2ed8d1(0x21f)][_0x2ed8d1(0x12a)](),this[_0x2ed8d1(0x21f)]['createBindGroup'](this[_0x2ed8d1(0x17f)])),this[_0x2ed8d1(0x1f0)]=this[_0x2ed8d1(0x195)][_0x2ed8d1(0x1ed)]({'label':'Ray\x20Tracer\x20Renderer\x20Bind\x20Group','layout':this[_0x2ed8d1(0x155)][_0x2ed8d1(0x1d1)](0x0),'entries':[{'binding':0x0,'resource':this['_offScreenTexture'][_0x2ed8d1(0x135)]()},{'binding':0x1,'resource':this[_0x2ed8d1(0x17b)]},{'binding':0x2,'resource':{'buffer':this[_0x2ed8d1(0x1ec)]}}]}),super['resizeCanvas'](),this[_0x2ed8d1(0x195)][_0x2ed8d1(0x122)][_0x2ed8d1(0x10a)](this[_0x2ed8d1(0x1ec)],0x0,new Float32Array([_0x5ed369,_0x1abab8]));}async[_0x1f78c1(0x14f)](_0x41f50c){const _0x1628cc=_0x1f78c1;await _0x41f50c['init'](),_0x41f50c[_0x1628cc(0x1a3)]=this['_offScreenTexture'][_0x1628cc(0x1c7)],_0x41f50c[_0x1628cc(0x1f3)]=this[_0x1628cc(0x17f)][_0x1628cc(0x197)],_0x41f50c[_0x1628cc(0x12a)](),this[_0x1628cc(0x21f)]=_0x41f50c,this[_0x1628cc(0x21f)][_0x1628cc(0x1ed)](this[_0x1628cc(0x17f)]);}[_0x1f78c1(0x1e5)](){const _0x3f0181=_0x1f78c1;if(this[_0x3f0181(0x21f)]){let _0x4be803=this['_device']['createCommandEncoder']();const _0x483701=_0x4be803[_0x3f0181(0x1e0)]();this[_0x3f0181(0x21f)]['compute'](_0x483701),_0x483701[_0x3f0181(0x12b)](),this[_0x3f0181(0x195)][_0x3f0181(0x122)][_0x3f0181(0x14b)]([_0x4be803['finish']()]);}let _0x15bd10=this[_0x3f0181(0x195)][_0x3f0181(0x1de)]();const _0x10b046=_0x15bd10[_0x3f0181(0x156)]({'colorAttachments':[{'view':this[_0x3f0181(0x113)]['getCurrentTexture']()[_0x3f0181(0x135)](),'clearValue':this[_0x3f0181(0x124)],'loadOp':_0x3f0181(0x148),'storeOp':_0x3f0181(0x125)}]});_0x10b046[_0x3f0181(0x1e9)](this[_0x3f0181(0x155)]),_0x10b046[_0x3f0181(0x1b5)](0x0,this[_0x3f0181(0x1f0)]),_0x10b046[_0x3f0181(0x1af)](0x6),_0x10b046[_0x3f0181(0x12b)](),this[_0x3f0181(0x195)][_0x3f0181(0x122)]['submit']([_0x15bd10[_0x3f0181(0x138)]()]);}}class StandardTextObject{constructor(_0x36778f,_0x31b216=0x5,_0x30ff50=_0x1f78c1(0x131)){const _0x5a5a5c=_0x1f78c1;this['_textFont']=_0x30ff50,this[_0x5a5a5c(0x182)]=_0x31b216,this[_0x5a5a5c(0x216)]=document[_0x5a5a5c(0x166)](_0x5a5a5c(0x1d9)),this[_0x5a5a5c(0x21a)]=this[_0x5a5a5c(0x216)][_0x5a5a5c(0x1f6)]('2d'),this[_0x5a5a5c(0x1cd)](_0x36778f),this[_0x5a5a5c(0x16c)](_0x36778f),this['_textCanvas'][_0x5a5a5c(0x10d)][_0x5a5a5c(0x1a8)]=_0x5a5a5c(0x192),this['_textCanvas']['style'][_0x5a5a5c(0x1cf)]=_0x5a5a5c(0x1f5),this[_0x5a5a5c(0x216)][_0x5a5a5c(0x10d)][_0x5a5a5c(0x178)]=_0x5a5a5c(0x1f5),this['_textCanvas'][_0x5a5a5c(0x10d)][_0x5a5a5c(0x1a4)]=_0x5a5a5c(0x1fb),this['_textCanvas'][_0x5a5a5c(0x10d)][_0x5a5a5c(0x1cc)]=_0x5a5a5c(0x178),document['body'][_0x5a5a5c(0x1c6)](this[_0x5a5a5c(0x216)]);}static ['CORNER']={'TOP_LEFT':0x0,'TOP_RIGHT':0x1,'BOTTOM_LEFT':0x2,'BOTTOM_RIGHT':0x3};[_0x1f78c1(0x183)](_0x11e256){const _0x168cb2=_0x1f78c1;switch(_0x11e256){case StandardTextObject['CORNER'][_0x168cb2(0x188)]:this[_0x168cb2(0x216)][_0x168cb2(0x10d)][_0x168cb2(0x178)]=_0x168cb2(0x1f5),this['_textCanvas'][_0x168cb2(0x10d)][_0x168cb2(0x1cf)]=_0x168cb2(0x1f5),this[_0x168cb2(0x216)][_0x168cb2(0x10d)][_0x168cb2(0x177)]='',this[_0x168cb2(0x216)][_0x168cb2(0x10d)]['bottom']='',this['_textCanvas'][_0x168cb2(0x10d)][_0x168cb2(0x1cc)]=_0x168cb2(0x178);break;case StandardTextObject[_0x168cb2(0x126)][_0x168cb2(0x222)]:this[_0x168cb2(0x216)][_0x168cb2(0x10d)][_0x168cb2(0x178)]='',this[_0x168cb2(0x216)][_0x168cb2(0x10d)][_0x168cb2(0x1cf)]=_0x168cb2(0x1f5),this['_textCanvas'][_0x168cb2(0x10d)]['right']=_0x168cb2(0x1f5),this[_0x168cb2(0x216)][_0x168cb2(0x10d)][_0x168cb2(0x1aa)]='',this[_0x168cb2(0x216)]['style'][_0x168cb2(0x1cc)]='right';break;case StandardTextObject[_0x168cb2(0x126)][_0x168cb2(0x15b)]:this[_0x168cb2(0x216)][_0x168cb2(0x10d)][_0x168cb2(0x178)]=_0x168cb2(0x1f5),this[_0x168cb2(0x216)][_0x168cb2(0x10d)]['top']='',this[_0x168cb2(0x216)][_0x168cb2(0x10d)][_0x168cb2(0x177)]='',this[_0x168cb2(0x216)]['style'][_0x168cb2(0x1aa)]='10px',this[_0x168cb2(0x216)][_0x168cb2(0x10d)][_0x168cb2(0x1cc)]=_0x168cb2(0x178);break;case StandardTextObject[_0x168cb2(0x126)][_0x168cb2(0x19c)]:this[_0x168cb2(0x216)][_0x168cb2(0x10d)][_0x168cb2(0x178)]='',this['_textCanvas'][_0x168cb2(0x10d)]['top']='',this[_0x168cb2(0x216)][_0x168cb2(0x10d)][_0x168cb2(0x177)]=_0x168cb2(0x1f5),this[_0x168cb2(0x216)]['style'][_0x168cb2(0x1aa)]=_0x168cb2(0x1f5),this[_0x168cb2(0x216)][_0x168cb2(0x10d)][_0x168cb2(0x1cc)]=_0x168cb2(0x177);break;default:break;};}['toggleVisibility'](){const _0x336807=_0x1f78c1;this[_0x336807(0x216)][_0x336807(0x18a)]=!this[_0x336807(0x216)][_0x336807(0x18a)];}[_0x1f78c1(0x1cd)](_0x346c13){const _0x2321db=_0x1f78c1;this['_textContext'][_0x2321db(0x111)]=this[_0x2321db(0x15d)],this[_0x2321db(0x13a)]=_0x346c13['split']('\x0a'),this[_0x2321db(0x129)]=Math[_0x2321db(0x1b4)](...this[_0x2321db(0x13a)][_0x2321db(0x132)](_0x11004b=>this[_0x2321db(0x21a)][_0x2321db(0x1dc)](_0x11004b)[_0x2321db(0x1c7)]));const _0x428186=this[_0x2321db(0x15d)]['match'](/(\d+)px/);_0x428186?this[_0x2321db(0x136)]=parseInt(_0x428186[0x1],0xa):(this[_0x2321db(0x136)]=0x12,this[_0x2321db(0x15d)]='18px\x20Arial'),this[_0x2321db(0x181)]=this[_0x2321db(0x13a)][_0x2321db(0x168)]*(this[_0x2321db(0x136)]+this[_0x2321db(0x182)]),this[_0x2321db(0x123)]=0x5,this[_0x2321db(0x19e)]=0x3,this[_0x2321db(0x1be)]=Math['ceil'](this[_0x2321db(0x129)]+this[_0x2321db(0x123)]*0x2),this[_0x2321db(0x199)]=Math[_0x2321db(0x15c)](this[_0x2321db(0x181)]+this[_0x2321db(0x19e)]),this[_0x2321db(0x216)][_0x2321db(0x1c7)]=this[_0x2321db(0x1be)],this[_0x2321db(0x216)][_0x2321db(0x197)]=this['_canvasHeight'],this[_0x2321db(0x21a)][_0x2321db(0x111)]=this[_0x2321db(0x15d)],this['_textContext'][_0x2321db(0x1df)]=_0x2321db(0x1cf);}[_0x1f78c1(0x16c)](_0xdad978){const _0x1a8269=_0x1f78c1;this['_lines']=_0xdad978['split']('\x0a'),this[_0x1a8269(0x21a)][_0x1a8269(0x1f2)]=_0x1a8269(0x146),this['_textContext'][_0x1a8269(0x176)](0x0,0x0,this[_0x1a8269(0x1be)],this['_canvasHeight']),this[_0x1a8269(0x21a)]['fillRect'](0x0,0x0,this[_0x1a8269(0x1be)],this[_0x1a8269(0x199)]),this['_textContext'][_0x1a8269(0x1f2)]=_0x1a8269(0x140),this[_0x1a8269(0x13a)][_0x1a8269(0x15f)]((_0x3239fa,_0x593c93)=>{const _0x15c8b5=_0x1a8269,_0x26e9ec=this['_paddingx'],_0x5b535e=this[_0x15c8b5(0x19e)]+_0x593c93*(this[_0x15c8b5(0x136)]+this[_0x15c8b5(0x182)]);this[_0x15c8b5(0x21a)][_0x15c8b5(0x1e8)](_0x3239fa,_0x26e9ec,_0x5b535e);});}}function _0x44c3(){const _0x5f48b3=['_intensity','Moved\x20Camera\x20in\x20-X','GET','Moved\x20Cube\x20in\x20-Z','extractTranslator','_textCanvas','Space/Shift:\x20Move\x20in\x20Y\x0a','COMPUTE','toggleCameraMode','_textContext','BYTES_PER_ELEMENT','_objectCnt','Moved\x20Cube\x20in\x20+Z','loadShader','_tracer','catch','createBuffer','TOP_RIGHT','moveZ','4cfeNKX','Moved\x20Camera\x20in\x20-Z','105uElvES','fps:\x20','_bindGroupLayout','Rotated\x20Cube\x20Around\x20+X','createGeometry','normalizeMotor','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','Rotated\x20Camera\x20Around\x20+X','setRequestHeader','Moved\x20Cube\x20in\x20+X','4uGJitF','updateSize','moveY','moveX','_pose','addEventListener','init','Rotated\x20Camera\x20Around\x20+Y','_direction','writeBuffer','applyMotorToDir','_pipelineLayout','style','createBindGroupLayout','_canvas','toString','font','76989rhxxYY','_context','createTexture','Rotated\x20Cube\x20Around\x20-Z','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','_computePipeline','applyMotor','_objects','dispatchWorkgroups','createRotor','Moved\x20Cube\x20in\x20+Y','linePlaneIntersection','reverse','fill','remove','rotateX','queue','_paddingx','_clearColor','store','CORNER','Rotated\x20Cube\x20Around\x20-Y','Rotated\x20Camera\x20Around\x20-Y','_width','updateGeometry','end','toggleVisibility','_focal','then','gpu','_position','18px\x20Arial','map','Shift','_scales','createView','_fontSize','Ray\x20Tracer\x20output\x20size\x20buffer','finish','changeLightType','_lines','fragmentMain','DONE','updateBoxScales','updateLight','_camera','white','linear','_shaderModule','Increased\x20Camera\x20Focal\x20Y','geometricProduct','63864rbbOkX','rgba(1,\x201,\x201,\x200.5)','Ray\x20Tracer\x20Pipeline','clear','_right','_resolutions','submit','Decreased\x20Camera\x20Focal\x20X','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','changeLightMode','setTracerObject','-=:\x20Change\x20Camera\x20Focal\x20X\x0a','body','appendSceneObject','Moved\x20Camera\x20in\x20+Z','changeFocalY','_pipeline','beginRenderPass','Camera\x20','_back','motorNorm','Increased\x20Camera\x20Focal\x20X','BOTTOM_LEFT','ceil','_textFont','createLine','forEach','Ray\x20Trace\x20Box\x20Layout\x20','[]:\x20Change\x20Camera\x20Focal\x20Y\x0a','Moved\x20Cube\x20in\x20-Y','userAgent','STORAGE_BINDING','Rotated\x20Cube\x20Around\x20+Z','createElement','_top','length','_computeProjectivePipeline','233176TzDfIR','_timeoutID','updateText','rotateZ','sqrt','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','byteLength','Ray\x20Tracing\x20Pipeline\x20','createComputePipeline','computeOrthogonalMain','innerWidth','_canvasFormat','clearRect','right','left','changeFocalX','_lightMode','_sampler','sin','configure','_params','_offScreenTexture','_cameraBuffer','_height','_lineSpacing','setPosition','Rotated\x20Camera\x20Around\x20-X','renderToSelectedView','_left','Enabled\x20Lambertian\x20Shading','TOP_LEFT','createRenderPipeline','hidden','_wgWidth','auto','popup','_box','m/M:\x20Change\x20Light\x20Mode\x0a','TEXTURE_BINDING','Moved\x20Camera\x20in\x20+X','absolute','send','_boxBuffer','_device','statusText','height','getName','_canvasHeight','name','requestDevice','BOTTOM_RIGHT','log','_paddingtop','createDir','compute','Enabled\x20Orthographic\x20Camera','Ray\x20Trace\x20Box\x20Pipeline\x20Layout','_imgWidth','border','createSampler','reduce','209460hwOUuV','position','./shaders/optimized_traceboxlight.wgsl','bottom','_attenuation','extractPoint','rgba8unorm','webgpu','draw','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','rotateY','constructor','\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@builtin(vertex_index)\x20vIdx:\x20u32)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20pos\x20=\x20array<vec2f,\x206>(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x20-1),\x20vec2f(1,\x20-1),\x20vec2f(-1,\x201),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x201),\x20vec2f(1,\x20-1),\x20vec2f(1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos[vIdx],\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var\x20inTexture:\x20texture_2d<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var\x20inSampler:\x20sampler;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20imgSize:\x20vec2f;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@builtin(position)\x20fragCoord:\x20vec4f)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20uv\x20=\x20fragCoord.xy\x20/\x20imgSize;\x20//\x20vec2f(textureDimensions(inTexture,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20textureSample(inTexture,\x20inSampler,\x20uv);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','max','setBindGroup','keydown','computeMain','Enabled\x20Spotlight','_down','108867PIgcJg','COPY_DST','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','_wgHeight','_canvasWidth','Ray\x20Trace\x20Box\x20Projective\x20Pipeline\x20','createPipelineLayout','390JtTPOo','onload','message','Light\x20','abs','appendChild','width','Rotated\x20Camera\x20Around\x20+Z','now','Moved\x20Camera\x20in\x20+Y','extractRotor','textAlign','updateTextRegion','createPoint','top','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','getBindGroupLayout','117IKtRtm','innerHeight','Moved\x20Cube\x20in\x20-X','l/L:\x20Change\x20Light\x20Type','1831525jRbGJa','onerror','renderCanvas','canvas','open','_cameraMode','measureText','UNIFORM','createCommandEncoder','textBaseline','beginComputePass','transformOrigin','338106ZXnmju','createShaders','removeSceneObject','render','devicePixelRatio','bind','fillText','setPipeline','_popupTime','resizeCanvas','_outputSizeBuffer','createBindGroup','Couldn\x27t\x20request\x20WebGPU\x20adapter.','getPreferredCanvasFormat','_bindGroup','resize','fillStyle','_imgHeight','Ray\x20Tracer\x20Shader','10px','getContext','ArrowRight','Left/Right:\x20Rotate\x20in\x20Y\x0a','cos','createPlaneFromPoints','1px\x20solid\x20red','status','innerHTML','updatePose','Ray\x20Tracing\x20Bind\x20Group','updateCameraFocal','applyMotorToPoint','createShaderModule','responseText','_lightBuffer','Enabled\x20Projective\x20Camera','createPlane','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','vertexMain','key','createTranslator','getElementById','\x20Shader\x20','updateCameraPose','Enabled\x20Point\x20Light','Enabled\x20Phong\x20Shading','ArrowLeft'];_0x44c3=function(){return _0x5f48b3;};return _0x44c3();}class PopupTextObject extends StandardTextObject{constructor(_0x475327=0x7d0,_0x261ed0=0x5,_0x4291cc=_0x1f78c1(0x131)){const _0x204331=_0x1f78c1;super('',_0x261ed0,_0x4291cc),this[_0x204331(0x1ea)]=_0x475327,this[_0x204331(0x16b)]=-0x1,super[_0x204331(0x12c)]();}async[_0x1f78c1(0x18d)](_0x42f3c2){const _0xddf71f=_0x1f78c1;super['updateTextRegion'](_0x42f3c2),super['updateText'](_0x42f3c2),this['_textCanvas'][_0xddf71f(0x18a)]&&super[_0xddf71f(0x12c)](),this[_0xddf71f(0x16b)]!=-0x1&&clearTimeout(this['_timeoutID']),this['_timeoutID']=setTimeout(()=>super['toggleVisibility'](),this[_0xddf71f(0x1ea)]);}}class SceneObject{static [_0x1f78c1(0x21c)]=0x0;constructor(_0x4b245c,_0x2f345f){const _0x4bda88=_0x1f78c1;if(this['constructor']==SceneObject)throw new Error(_0x4bda88(0x14d));this[_0x4bda88(0x195)]=_0x4b245c,this[_0x4bda88(0x175)]=_0x2f345f,SceneObject['_objectCnt']+=0x1;}['getName'](){const _0x1930b5=_0x1f78c1;return this[_0x1930b5(0x1b2)][_0x1930b5(0x19a)]+'\x20'+SceneObject[_0x1930b5(0x21c)][_0x1930b5(0x110)]();}async[_0x1f78c1(0x107)](){const _0x21ec81=_0x1f78c1;await this['createGeometry'](),await this[_0x21ec81(0x1e3)](),await this['createRenderPipeline'](),await this[_0x21ec81(0x172)]();}async[_0x1f78c1(0x22a)](){const _0x5e322a=_0x1f78c1;throw new Error(_0x5e322a(0x1d0));}[_0x1f78c1(0x12a)](){}['loadShader'](_0x43aec9){return new Promise((_0xd3728,_0x4bcb4d)=>{const _0x382611=_0x481d,_0x51b7a5=new XMLHttpRequest();_0x51b7a5[_0x382611(0x1da)](_0x382611(0x213),_0x43aec9),_0x51b7a5[_0x382611(0xff)]('Cache-Control','no-cache,\x20no-store,\x20max-age=0'),_0x51b7a5[_0x382611(0x1c2)]=function(){const _0x574098=_0x382611;_0x51b7a5['readyState']===XMLHttpRequest[_0x574098(0x13c)]&&_0x51b7a5[_0x574098(0x1fc)]===0xc8?_0xd3728(_0x51b7a5[_0x574098(0x203)]):_0x4bcb4d({'status':_0x51b7a5[_0x574098(0x1fc)],'statusText':_0x51b7a5['statusText']});},_0x51b7a5[_0x382611(0x1d7)]=function(){const _0x19e4e0=_0x382611;_0x4bcb4d({'status':_0x51b7a5[_0x19e4e0(0x1fc)],'statusText':_0x51b7a5[_0x19e4e0(0x196)]});},_0x51b7a5[_0x382611(0x193)]();});}async[_0x1f78c1(0x1e3)](){const _0x30f0c0=_0x1f78c1;throw new Error(_0x30f0c0(0x207));}async[_0x1f78c1(0x189)](){const _0x5062fd=_0x1f78c1;throw new Error(_0x5062fd(0x16f));}['render'](_0x43280b){const _0x6f228c=_0x1f78c1;throw new Error(_0x6f228c(0x22c));}async[_0x1f78c1(0x172)](){const _0x3d2dec=_0x1f78c1;throw new Error(_0x3d2dec(0x1bc));}[_0x1f78c1(0x1a0)](_0xabe0a4){const _0xc7b239=_0x1f78c1;throw new Error(_0xc7b239(0x1b0));}}class RayTracingObject extends SceneObject{async['createGeometry'](){}async[_0x1f78c1(0x1e3)](){const _0x189b68=_0x1f78c1;let _0x58d1d1=await this['loadShader']('/shaders/optimized_tracenothing.wgsl');this[_0x189b68(0x142)]=this['_device'][_0x189b68(0x202)]({'label':'\x20Shader\x20'+this['getName'](),'code':_0x58d1d1});}[_0x1f78c1(0x12a)](){}async[_0x1f78c1(0x189)](){}[_0x1f78c1(0x1e5)](_0xe0fbe5){}async[_0x1f78c1(0x172)](){const _0x52fe97=_0x1f78c1;this['_computePipeline']=this[_0x52fe97(0x195)][_0x52fe97(0x172)]({'label':_0x52fe97(0x171)+this[_0x52fe97(0x198)](),'layout':_0x52fe97(0x18c),'compute':{'module':this[_0x52fe97(0x142)],'entryPoint':_0x52fe97(0x1b7)}});}[_0x1f78c1(0x1ed)](_0x21acdb){const _0x8e9084=_0x1f78c1;this[_0x8e9084(0x1f0)]=this[_0x8e9084(0x195)][_0x8e9084(0x1ed)]({'label':_0x8e9084(0x1ff),'layout':this['_computePipeline'][_0x8e9084(0x1d1)](0x0),'entries':[{'binding':0x0,'resource':_0x21acdb['createView']()}]}),this[_0x8e9084(0x18b)]=Math['ceil'](_0x21acdb[_0x8e9084(0x1c7)]),this['_wgHeight']=Math[_0x8e9084(0x15c)](_0x21acdb['height']);}[_0x1f78c1(0x1a0)](_0x5c66fa){const _0x2cddf=_0x1f78c1;_0x5c66fa[_0x2cddf(0x1e9)](this[_0x2cddf(0x117)]),_0x5c66fa[_0x2cddf(0x1b5)](0x0,this['_bindGroup']),_0x5c66fa[_0x2cddf(0x11a)](Math[_0x2cddf(0x15c)](this[_0x2cddf(0x18b)]/0x10),Math[_0x2cddf(0x15c)](this[_0x2cddf(0x1bd)]/0x10));}}class PGA3D{static[_0x1f78c1(0x144)](_0x573a7e,_0x169266){return[_0x573a7e[0x0]*_0x169266[0x0]-_0x573a7e[0x1]*_0x169266[0x1]-_0x573a7e[0x2]*_0x169266[0x2]-_0x573a7e[0x3]*_0x169266[0x3]-_0x573a7e[0x7]*_0x169266[0x7]+_0x573a7e[0xb]*_0x169266[0xb]+_0x573a7e[0xc]*_0x169266[0xc]+_0x573a7e[0xd]*_0x169266[0xd],_0x573a7e[0x0]*_0x169266[0x1]+_0x573a7e[0x1]*_0x169266[0x0]-_0x573a7e[0x2]*_0x169266[0x3]+_0x573a7e[0x3]*_0x169266[0x2]+_0x573a7e[0x7]*_0x169266[0xd]+_0x573a7e[0xb]*_0x169266[0xc]-_0x573a7e[0xc]*_0x169266[0xb]+_0x573a7e[0xd]*_0x169266[0x7],_0x573a7e[0x0]*_0x169266[0x2]+_0x573a7e[0x1]*_0x169266[0x3]+_0x573a7e[0x2]*_0x169266[0x0]-_0x573a7e[0x3]*_0x169266[0x1]-_0x573a7e[0x7]*_0x169266[0xc]+_0x573a7e[0xb]*_0x169266[0xd]-_0x573a7e[0xc]*_0x169266[0x7]-_0x573a7e[0xd]*_0x169266[0xb],_0x573a7e[0x0]*_0x169266[0x3]-_0x573a7e[0x1]*_0x169266[0x2]+_0x573a7e[0x2]*_0x169266[0x1]+_0x573a7e[0x3]*_0x169266[0x0]+_0x573a7e[0x7]*_0x169266[0xb]+_0x573a7e[0xb]*_0x169266[0x7]+_0x573a7e[0xc]*_0x169266[0xd]-_0x573a7e[0xd]*_0x169266[0xc],_0x573a7e[0x0]*_0x169266[0x4]+_0x573a7e[0x1]*_0x169266[0x5]+_0x573a7e[0x2]*_0x169266[0x6]-_0x573a7e[0x3]*_0x169266[0xf]+_0x573a7e[0x4]*_0x169266[0x0]-_0x573a7e[0x5]*_0x169266[0x1]-_0x573a7e[0x6]*_0x169266[0x2]+_0x573a7e[0x7]*_0x169266[0xa]+_0x573a7e[0x8]*_0x169266[0xc]+_0x573a7e[0x9]*_0x169266[0xd]-_0x573a7e[0xa]*_0x169266[0x7]-_0x573a7e[0xb]*_0x169266[0xe]+_0x573a7e[0xc]*_0x169266[0x8]+_0x573a7e[0xd]*_0x169266[0x9]+_0x573a7e[0xe]*_0x169266[0xb]-_0x573a7e[0xf]*_0x169266[0x3],_0x573a7e[0x0]*_0x169266[0x5]-_0x573a7e[0x1]*_0x169266[0x4]+_0x573a7e[0x2]*_0x169266[0xf]+_0x573a7e[0x3]*_0x169266[0x6]+_0x573a7e[0x4]*_0x169266[0x1]+_0x573a7e[0x5]*_0x169266[0x0]-_0x573a7e[0x6]*_0x169266[0x3]-_0x573a7e[0x7]*_0x169266[0x9]-_0x573a7e[0x8]*_0x169266[0xb]+_0x573a7e[0x9]*_0x169266[0x7]+_0x573a7e[0xa]*_0x169266[0xc]-_0x573a7e[0xb]*_0x169266[0x8]-_0x573a7e[0xc]*_0x169266[0xe]+_0x573a7e[0xd]*_0x169266[0xa]+_0x573a7e[0xe]*_0x169266[0xc]+_0x573a7e[0xf]*_0x169266[0x2],_0x573a7e[0x0]*_0x169266[0x6]-_0x573a7e[0x1]*_0x169266[0xf]-_0x573a7e[0x2]*_0x169266[0x4]-_0x573a7e[0x3]*_0x169266[0x5]+_0x573a7e[0x4]*_0x169266[0x2]+_0x573a7e[0x5]*_0x169266[0x3]+_0x573a7e[0x6]*_0x169266[0x0]+_0x573a7e[0x7]*_0x169266[0x8]-_0x573a7e[0x8]*_0x169266[0x7]-_0x573a7e[0x9]*_0x169266[0xb]-_0x573a7e[0xa]*_0x169266[0xc]-_0x573a7e[0xb]*_0x169266[0x9]-_0x573a7e[0xc]*_0x169266[0xa]-_0x573a7e[0xd]*_0x169266[0xe]+_0x573a7e[0xe]*_0x169266[0xd]-_0x573a7e[0xf]*_0x169266[0x1],_0x573a7e[0x0]*_0x169266[0x7]+_0x573a7e[0x1]*_0x169266[0xd]-_0x573a7e[0x2]*_0x169266[0xc]+_0x573a7e[0x3]*_0x169266[0xb]+_0x573a7e[0x7]*_0x169266[0x0]+_0x573a7e[0xb]*_0x169266[0x3]-_0x573a7e[0xc]*_0x169266[0x2]+_0x573a7e[0xd]*_0x169266[0x1],_0x573a7e[0x0]*_0x169266[0x8]+_0x573a7e[0x1]*_0x169266[0xe]-_0x573a7e[0x2]*_0x169266[0xa]+_0x573a7e[0x3]*_0x169266[0x9]+_0x573a7e[0x4]*_0x169266[0xc]-_0x573a7e[0x5]*_0x169266[0xb]+_0x573a7e[0x6]*_0x169266[0x7]-_0x573a7e[0x7]*_0x169266[0x6]+_0x573a7e[0x8]*_0x169266[0x0]-_0x573a7e[0x9]*_0x169266[0x3]+_0x573a7e[0xa]*_0x169266[0x2]-_0x573a7e[0xb]*_0x169266[0x5]+_0x573a7e[0xc]*_0x169266[0x4]-_0x573a7e[0xd]*_0x169266[0xf]+_0x573a7e[0xe]*_0x169266[0x1]+_0x573a7e[0xf]*_0x169266[0xd],_0x573a7e[0x0]*_0x169266[0x9]+_0x573a7e[0x1]*_0x169266[0xa]+_0x573a7e[0x2]*_0x169266[0xe]-_0x573a7e[0x3]*_0x169266[0x8]+_0x573a7e[0x4]*_0x169266[0xd]-_0x573a7e[0x5]*_0x169266[0x7]-_0x573a7e[0x6]*_0x169266[0xb]+_0x573a7e[0x7]*_0x169266[0x5]+_0x573a7e[0x8]*_0x169266[0x3]+_0x573a7e[0x9]*_0x169266[0x0]-_0x573a7e[0xa]*_0x169266[0x1]-_0x573a7e[0xb]*_0x169266[0x6]+_0x573a7e[0xc]*_0x169266[0xf]+_0x573a7e[0xd]*_0x169266[0x4]+_0x573a7e[0xe]*_0x169266[0x2]-_0x573a7e[0xf]*_0x169266[0xc],_0x573a7e[0x0]*_0x169266[0xa]-_0x573a7e[0x1]*_0x169266[0x9]+_0x573a7e[0x2]*_0x169266[0x8]+_0x573a7e[0x3]*_0x169266[0xe]+_0x573a7e[0x4]*_0x169266[0x7]+_0x573a7e[0x5]*_0x169266[0xd]-_0x573a7e[0x6]*_0x169266[0xc]-_0x573a7e[0x7]*_0x169266[0x4]-_0x573a7e[0x8]*_0x169266[0x2]+_0x573a7e[0x9]*_0x169266[0x1]+_0x573a7e[0xa]*_0x169266[0x0]-_0x573a7e[0xb]*_0x169266[0xf]-_0x573a7e[0xc]*_0x169266[0x6]+_0x573a7e[0xd]*_0x169266[0x5]+_0x573a7e[0xe]*_0x169266[0x3]+_0x573a7e[0xf]*_0x169266[0xb],_0x573a7e[0x0]*_0x169266[0xb]+_0x573a7e[0x1]*_0x169266[0xc]+_0x573a7e[0x2]*_0x169266[0xd]-_0x573a7e[0x3]*_0x169266[0x7]-_0x573a7e[0x7]*_0x169266[0x3]+_0x573a7e[0xb]*_0x169266[0x0]-_0x573a7e[0xc]*_0x169266[0x1]-_0x573a7e[0xd]*_0x169266[0x2],_0x573a7e[0x0]*_0x169266[0xc]-_0x573a7e[0x1]*_0x169266[0xb]+_0x573a7e[0x2]*_0x169266[0x7]+_0x573a7e[0x3]*_0x169266[0xd]+_0x573a7e[0x7]*_0x169266[0x2]+_0x573a7e[0xb]*_0x169266[0x1]+_0x573a7e[0xc]*_0x169266[0x0]-_0x573a7e[0xd]*_0x169266[0x3],_0x573a7e[0x0]*_0x169266[0xd]-_0x573a7e[0x1]*_0x169266[0x7]-_0x573a7e[0x2]*_0x169266[0xb]-_0x573a7e[0x3]*_0x169266[0xc]-_0x573a7e[0x7]*_0x169266[0x1]+_0x573a7e[0xb]*_0x169266[0x2]+_0x573a7e[0xc]*_0x169266[0x3]+_0x573a7e[0xd]*_0x169266[0x0],_0x573a7e[0x0]*_0x169266[0xe]-_0x573a7e[0x1]*_0x169266[0x8]-_0x573a7e[0x2]*_0x169266[0x9]-_0x573a7e[0x3]*_0x169266[0xa]+_0x573a7e[0x4]*_0x169266[0xb]+_0x573a7e[0x5]*_0x169266[0xc]+_0x573a7e[0x6]*_0x169266[0xd]+_0x573a7e[0x7]*_0x169266[0xf]-_0x573a7e[0x8]*_0x169266[0x1]-_0x573a7e[0x9]*_0x169266[0x2]-_0x573a7e[0xa]*_0x169266[0x3]-_0x573a7e[0xb]*_0x169266[0x4]-_0x573a7e[0xc]*_0x169266[0x5]-_0x573a7e[0xd]*_0x169266[0x6]+_0x573a7e[0xe]*_0x169266[0x0]-_0x573a7e[0xf]*_0x169266[0x7],_0x573a7e[0x0]*_0x169266[0xf]+_0x573a7e[0x1]*_0x169266[0x6]-_0x573a7e[0x2]*_0x169266[0x5]+_0x573a7e[0x3]*_0x169266[0x4]+_0x573a7e[0x4]*_0x169266[0x3]-_0x573a7e[0x5]*_0x169266[0x2]+_0x573a7e[0x6]*_0x169266[0x1]-_0x573a7e[0x7]*_0x169266[0xe]+_0x573a7e[0x8]*_0x169266[0xd]-_0x573a7e[0x9]*_0x169266[0xc]+_0x573a7e[0xa]*_0x169266[0xb]-_0x573a7e[0xb]*_0x169266[0xa]+_0x573a7e[0xc]*_0x169266[0x9]-_0x573a7e[0xd]*_0x169266[0x8]+_0x573a7e[0xe]*_0x169266[0x7]+_0x573a7e[0xf]*_0x169266[0x0]];}static[_0x1f78c1(0x11e)](_0x3de095){return[_0x3de095[0x0],-_0x3de095[0x1],-_0x3de095[0x2],-_0x3de095[0x3],-_0x3de095[0x4],-_0x3de095[0x5],-_0x3de095[0x6],-_0x3de095[0x7],-_0x3de095[0x8],-_0x3de095[0x9],-_0x3de095[0xa],_0x3de095[0xb],_0x3de095[0xc],_0x3de095[0xd],_0x3de095[0xe],_0x3de095[0xf]];}static['applyMotor'](_0x45e6ef,_0x273678){const _0x3afa3f=_0x1f78c1;return PGA3D[_0x3afa3f(0x144)](_0x273678,PGA3D['geometricProduct'](_0x45e6ef,PGA3D['reverse'](_0x273678)));}static[_0x1f78c1(0x159)](_0x464e5b){const _0x3d508f=_0x1f78c1;return Math['sqrt'](_0x464e5b[_0x3d508f(0x132)](_0x373e57=>_0x373e57*_0x373e57)[_0x3d508f(0x1a6)]((_0x784c07,_0x4c4e45)=>_0x784c07+_0x4c4e45,0x0));}static[_0x1f78c1(0x20a)](_0x118d04,_0x36ff4e,_0x4d93f7){return[0x1,0x0,0x0,0x0,-_0x118d04/0x2,-_0x36ff4e/0x2,-_0x4d93f7/0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x1f78c1(0x215)](_0x5748e8){return[0x1,0x0,0x0,0x0,_0x5748e8[0x4],_0x5748e8[0x5],_0x5748e8[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x1f78c1(0x11b)](_0x38ec80,_0x4394a7=0x1,_0x426ab4=0x0,_0x443267=0x0,_0x266d36=0x0,_0x9bc2e8=0x0,_0x29bf5f=0x0){const _0x437427=_0x1f78c1;let _0x4b958f=Math[_0x437427(0x1f9)](_0x38ec80/0x2),_0x516321=Math[_0x437427(0x17c)](_0x38ec80/0x2),_0x4e106d=PGA3D[_0x437427(0x15e)](_0x266d36,_0x9bc2e8,_0x29bf5f,_0x4394a7,_0x426ab4,_0x443267);return[_0x4b958f,_0x516321*_0x4e106d[0x1],_0x516321*_0x4e106d[0x2],_0x516321*_0x4e106d[0x3],_0x516321*_0x4e106d[0x4],_0x516321*_0x4e106d[0x5],_0x516321*_0x4e106d[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x1f78c1(0x1cb)](_0xb51bb3){return[_0xb51bb3[0x0],_0xb51bb3[0x1],_0xb51bb3[0x2],_0xb51bb3[0x3],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x1f78c1(0x19f)](_0x4dcd3e,_0x2a171b,_0x600e56){return[0x0,_0x600e56,-_0x2a171b,_0x4dcd3e,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x1f78c1(0x15e)](_0x2ec2d5,_0x4588e0,_0x2d8a46,_0x477680,_0x12da0d,_0x300b3f){const _0x1e9422=_0x1f78c1;let _0xb2a0e5=PGA3D['createDir'](_0x477680,_0x12da0d,_0x300b3f),_0x23415a=PGA3D[_0x1e9422(0x22b)](_0xb2a0e5);return[0x0,_0x23415a[0x1],_0x23415a[0x2],_0x23415a[0x3],-(-_0x23415a[0x2]*_0x2d8a46-_0x23415a[0x1]*_0x4588e0),-(_0x23415a[0x1]*_0x2ec2d5-_0x23415a[0x3]*_0x2d8a46),-(_0x23415a[0x3]*_0x4588e0+_0x23415a[0x2]*_0x2ec2d5),0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['createPoint'](_0x38ced5,_0x2c1d7b,_0x4deb4f){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,-_0x4deb4f,_0x2c1d7b,-_0x38ced5,0x0,0x0,0x0,0x0,0x0];}static[_0x1f78c1(0x1ac)](_0x7424cd){return[-_0x7424cd[0xa]/_0x7424cd[0x7],_0x7424cd[0x9]/_0x7424cd[0x7],-_0x7424cd[0x8]/_0x7424cd[0x7]];}static['createPlane'](_0x26fb9f,_0x1f4d49,_0x2424a0,_0x1bb019){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,_0x26fb9f,_0x1f4d49,_0x2424a0,-_0x1bb019,0x0];}static[_0x1f78c1(0x1fa)](_0x483521,_0x5d629b,_0x49189b){const _0x148847=_0x1f78c1;let _0xe2293b=_0x5d629b[0x1]*_0x49189b[0x2]-_0x49189b[0x1]*_0x5d629b[0x2]-(_0x483521[0x1]*_0x49189b[0x2]-_0x49189b[0x1]*_0x483521[0x2])+(_0x483521[0x1]*_0x5d629b[0x2]-_0x5d629b[0x1]*_0x483521[0x2]),_0x52cd1d=_0x5d629b[0x0]*_0x49189b[0x2]-_0x49189b[0x0]*_0x5d629b[0x2]-(_0x483521[0x0]*_0x49189b[0x2]-_0x49189b[0x0]*_0x483521[0x2])+(_0x483521[0x0]*_0x5d629b[0x2]-_0x5d629b[0x0]*_0x483521[0x2]),_0x152a99=_0x5d629b[0x0]*_0x49189b[0x1]-_0x49189b[0x0]*_0x5d629b[0x1]-(_0x483521[0x0]*_0x49189b[0x1]-_0x49189b[0x0]*_0x483521[0x1])+(_0x483521[0x0]*_0x5d629b[0x1]-_0x5d629b[0x0]*_0x483521[0x1]),_0x122c0e=_0x483521[0x0]*(_0x5d629b[0x1]*_0x49189b[0x2]-_0x49189b[0x1]*_0x5d629b[0x2])-_0x5d629b[0x0]*(_0x483521[0x1]*_0x49189b[0x2]-_0x49189b[0x1]*_0x483521[0x2])+_0x49189b[0x0]*(_0x483521[0x1]*_0x5d629b[0x2]-_0x5d629b[0x1]*_0x483521[0x2]);return PGA3D[_0x148847(0x206)](_0xe2293b,-_0x52cd1d,_0x152a99,_0x122c0e);}static[_0x1f78c1(0x11d)](_0x452c62,_0xbba055){const _0x47cf7d=_0x1f78c1;let _0x314379=PGA3D[_0x47cf7d(0x144)](_0x452c62,_0xbba055),_0x348324=Math[_0x47cf7d(0x1c5)](_0x314379[0x7])<=1e-8,_0x7b1a1b=_0x348324&&Math['abs'](_0x314379[0x8])<=1e-8&&Math['abs'](_0x314379[0x9])<=1e-8&&Math[_0x47cf7d(0x1c5)](_0x314379[0xa])<=1e-8;return[PGA3D['extractPoint'](_0x314379),!_0x348324,_0x7b1a1b];}static[_0x1f78c1(0x22b)](_0x516669){const _0x6517ae=_0x1f78c1;let _0x6e3e20=PGA3D[_0x6517ae(0x159)](_0x516669);if(_0x6e3e20==0x0)return[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];return _0x516669['map'](_0x35f33c=>_0x35f33c/_0x6e3e20);}static[_0x1f78c1(0x201)](_0x23132b,_0x101730){const _0x152546=_0x1f78c1;let _0x3da28a=PGA3D[_0x152546(0x118)](PGA3D[_0x152546(0x1ce)](_0x23132b[0x0],_0x23132b[0x1],_0x23132b[0x2]),_0x101730);return PGA3D[_0x152546(0x1ac)](_0x3da28a);}static[_0x1f78c1(0x10b)](_0x1fa619,_0x238af4){const _0x20cbf9=_0x1f78c1;let _0x419aff=PGA3D[_0x20cbf9(0x1cb)](_0x238af4),_0x3f6c02=PGA3D[_0x20cbf9(0x118)](PGA3D['createPoint'](_0x1fa619[0x0],_0x1fa619[0x1],_0x1fa619[0x2]),_0x419aff);return PGA3D[_0x20cbf9(0x1ac)](_0x3f6c02);}static['isInside'](_0x3cf6d2,_0x128d64,_0x28a839,_0x551030){const _0x33e635=_0x1f78c1;let _0x13005d=PGA3D[_0x33e635(0x1ce)](_0x3cf6d2[0x0],_0x3cf6d2[0x1],_0x3cf6d2[0x2]),_0x4e8e07=PGA3D[_0x33e635(0x1ce)](_0x128d64[0x0],_0x128d64[0x1],_0x128d64[0x2]),_0x3ce6c9=PGA3D[_0x33e635(0x1ce)](_0x28a839[0x0],_0x28a839[0x1],_0x28a839[0x2]),_0x42364b=PGA3D['createPoint'](_0x551030[0x0],_0x551030[0x1],_0x551030[0x2]),_0x2ed601=PGA3D[_0x33e635(0x1fa)](_0x3cf6d2,_0x128d64,_0x28a839),_0x1a7bf5=PGA3D[_0x33e635(0x1fa)](_0x551030,_0x128d64,_0x28a839),_0x477480=PGA3D[_0x33e635(0x1fa)](_0x3cf6d2,_0x551030,_0x28a839),_0x5c3406=PGA3D[_0x33e635(0x1fa)](_0x3cf6d2,_0x128d64,_0x551030),_0x334ec0=_0x2ed601[0xb]*_0x2ed601[0xb]+_0x2ed601[0xc]*_0x2ed601[0xc]+_0x2ed601[0xd]*_0x2ed601[0xd]+_0x2ed601[0xe]*_0x2ed601[0xe],_0x522596=_0x2ed601[0xb]*_0x1a7bf5[0xb]+_0x2ed601[0xc]*_0x1a7bf5[0xc]+_0x2ed601[0xd]*_0x1a7bf5[0xd]+_0x2ed601[0xe]*_0x1a7bf5[0xe],_0x3722f5=_0x2ed601[0xb]*_0x477480[0xb]+_0x2ed601[0xc]*_0x477480[0xc]+_0x2ed601[0xd]*_0x477480[0xd]+_0x2ed601[0xe]*_0x477480[0xe],_0x4ed881=_0x2ed601[0xb]*_0x5c3406[0xb]+_0x2ed601[0xc]*_0x5c3406[0xc]+_0x2ed601[0xd]*_0x5c3406[0xd]+_0x2ed601[0xe]*_0x5c3406[0xe],_0x2c611a=_0x522596/_0x334ec0,_0x1d80d3=_0x3722f5/_0x334ec0,_0x1d9358=_0x4ed881/_0x334ec0;return _0x2c611a>=0x0&&_0x2c611a<=0x1&&_0x1d80d3>=0x0&&_0x1d80d3<=0x1&&_0x1d9358>=0x0&&_0x1d9358<=0x1;}}class UnitCube{constructor(){const _0x3304e6=_0x1f78c1;this['_pose']=new Float32Array(Array(0x10)['fill'](0x0)),this[_0x3304e6(0x105)][0x0]=0x1,this['_scales']=new Float32Array(Array(0x4)[_0x3304e6(0x11f)](0x1)),this['_front']=new Float32Array([-0.5,-0.5,0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x3304e6(0x158)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,-0.5,0.5,-0.5,0x1]),this['_left']=new Float32Array([-0.5,-0.5,-0.5,0x1,-0.5,-0.5,0.5,0x1,-0.5,0.5,0.5,0x1,-0.5,0.5,-0.5,0x1]),this[_0x3304e6(0x149)]=new Float32Array([0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,0.5,0.5,-0.5,0x1]),this[_0x3304e6(0x167)]=new Float32Array([-0.5,0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x3304e6(0x1b9)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,-0.5,-0.5,0.5,0x1]);}[_0x1f78c1(0x104)](_0x673651){const _0x44c5c5=_0x1f78c1;let _0x3f5b7f=[...PGA3D[_0x44c5c5(0x201)]([_0x673651,0x0,0x0],PGA3D[_0x44c5c5(0x1cb)](this[_0x44c5c5(0x105)]))],_0x912f46=PGA3D[_0x44c5c5(0x20a)](_0x3f5b7f[0x0],_0x3f5b7f[0x1],_0x3f5b7f[0x2]),_0x22b1a3=PGA3D[_0x44c5c5(0x144)](_0x912f46,this['_pose']);this[_0x44c5c5(0x1fe)](_0x22b1a3);if(_0x673651<0x0)return _0x44c5c5(0x1d4);else{if(_0x673651>0x0)return _0x44c5c5(0x100);}}['moveY'](_0x3a03b7){const _0x3299dd=_0x1f78c1;let _0x428b58=[...PGA3D[_0x3299dd(0x201)]([0x0,_0x3a03b7,0x0],PGA3D[_0x3299dd(0x1cb)](this[_0x3299dd(0x105)]))],_0x4773f4=PGA3D['createTranslator'](_0x428b58[0x0],_0x428b58[0x1],_0x428b58[0x2]),_0x46cef9=PGA3D[_0x3299dd(0x144)](_0x4773f4,this['_pose']);this[_0x3299dd(0x1fe)](_0x46cef9);if(_0x3a03b7<0x0)return _0x3299dd(0x162);else{if(_0x3a03b7>0x0)return _0x3299dd(0x11c);}}['moveZ'](_0x223e0e){const _0x2cdf1e=_0x1f78c1;let _0x49f6e6=[...PGA3D[_0x2cdf1e(0x201)]([0x0,0x0,_0x223e0e],PGA3D[_0x2cdf1e(0x1cb)](this[_0x2cdf1e(0x105)]))],_0x238228=PGA3D[_0x2cdf1e(0x20a)](_0x49f6e6[0x0],_0x49f6e6[0x1],_0x49f6e6[0x2]),_0x117850=PGA3D['geometricProduct'](_0x238228,this[_0x2cdf1e(0x105)]);this['updatePose'](_0x117850);if(_0x223e0e<0x0)return _0x2cdf1e(0x214);else{if(_0x223e0e>0x0)return _0x2cdf1e(0x21d);}}[_0x1f78c1(0x121)](_0x4169e1){const _0x2f7f79=_0x1f78c1;let _0x25908f=[...PGA3D[_0x2f7f79(0x10b)]([0x1,0x0,0x0],PGA3D[_0x2f7f79(0x1cb)](this[_0x2f7f79(0x105)]))],_0x4f0c38=PGA3D[_0x2f7f79(0x11b)](_0x4169e1*Math['PI']/0x5a,_0x25908f[0x0],_0x25908f[0x1],_0x25908f[0x2]),_0x471475=PGA3D[_0x2f7f79(0x144)](_0x4f0c38,this[_0x2f7f79(0x105)]);this[_0x2f7f79(0x1fe)](_0x471475);if(_0x4169e1<0x0)return'Rotated\x20Cube\x20Around\x20-X';else{if(_0x4169e1>0x0)return _0x2f7f79(0x229);}}[_0x1f78c1(0x1b1)](_0x10731e){const _0x544584=_0x1f78c1;let _0x39c8d8=[...PGA3D['applyMotorToDir']([0x0,0x1,0x0],PGA3D['extractRotor'](this['_pose']))],_0x97306e=PGA3D[_0x544584(0x11b)](_0x10731e*Math['PI']/0x5a,_0x39c8d8[0x0],_0x39c8d8[0x1],_0x39c8d8[0x2]),_0x3e4797=PGA3D[_0x544584(0x144)](_0x97306e,this[_0x544584(0x105)]);this[_0x544584(0x1fe)](_0x3e4797);if(_0x10731e<0x0)return _0x544584(0x127);else{if(_0x10731e>0x0)return'Rotated\x20Cube\x20Around\x20+Y';}}[_0x1f78c1(0x16d)](_0x3e965f){const _0x4e3231=_0x1f78c1;let _0x521415=[...PGA3D[_0x4e3231(0x10b)]([0x0,0x0,0x1],PGA3D[_0x4e3231(0x1cb)](this[_0x4e3231(0x105)]))],_0x49a647=PGA3D['createRotor'](_0x3e965f*Math['PI']/0x5a,_0x521415[0x0],_0x521415[0x1],_0x521415[0x2]),_0x546c63=PGA3D[_0x4e3231(0x144)](_0x49a647,this[_0x4e3231(0x105)]);this['updatePose'](_0x546c63);if(_0x3e965f<0x0)return _0x4e3231(0x115);else{if(_0x3e965f>0x0)return _0x4e3231(0x165);}}[_0x1f78c1(0x1fe)](_0x57ab15){const _0x19ea31=_0x1f78c1;for(let _0x29b749=0x0;_0x29b749<0x10;++_0x29b749)this[_0x19ea31(0x105)][_0x29b749]=_0x57ab15[_0x29b749];}}class RayTracingBoxLightObject extends RayTracingObject{constructor(_0x5917d8,_0x380087,_0x3154f2,_0x552f7e=!![]){const _0x36c96b=_0x1f78c1;super(_0x5917d8,_0x380087),this['_box']=new UnitCube(),this['_camera']=_0x3154f2,this['_showTexture']=_0x552f7e,this[_0x36c96b(0x17a)]=new Uint32Array([0x0,0x0,0x0,0x0]);}async[_0x1f78c1(0x22a)](){const _0x37c23f=_0x1f78c1;this[_0x37c23f(0x180)]=this[_0x37c23f(0x195)][_0x37c23f(0x221)]({'label':_0x37c23f(0x157)+this[_0x37c23f(0x198)](),'size':this['_camera'][_0x37c23f(0x105)][_0x37c23f(0x170)]+this[_0x37c23f(0x13f)][_0x37c23f(0x12d)][_0x37c23f(0x170)]+this[_0x37c23f(0x13f)][_0x37c23f(0x14a)][_0x37c23f(0x170)],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x37c23f(0x1bb)]}),this[_0x37c23f(0x195)][_0x37c23f(0x122)][_0x37c23f(0x10a)](this[_0x37c23f(0x180)],0x0,this['_camera'][_0x37c23f(0x105)]),this[_0x37c23f(0x195)]['queue'][_0x37c23f(0x10a)](this[_0x37c23f(0x180)],this[_0x37c23f(0x13f)]['_pose']['byteLength'],this[_0x37c23f(0x13f)][_0x37c23f(0x12d)]),this[_0x37c23f(0x195)][_0x37c23f(0x122)][_0x37c23f(0x10a)](this['_cameraBuffer'],this[_0x37c23f(0x13f)]['_pose']['byteLength']+this[_0x37c23f(0x13f)]['_focal'][_0x37c23f(0x170)],this[_0x37c23f(0x13f)][_0x37c23f(0x14a)]),this[_0x37c23f(0x194)]=this['_device'][_0x37c23f(0x221)]({'label':'Box\x20'+this[_0x37c23f(0x198)](),'size':this[_0x37c23f(0x18e)][_0x37c23f(0x105)][_0x37c23f(0x170)]+this[_0x37c23f(0x18e)][_0x37c23f(0x134)]['byteLength']+this[_0x37c23f(0x18e)][_0x37c23f(0x167)][_0x37c23f(0x170)]*0x6,'usage':GPUBufferUsage[_0x37c23f(0x1dd)]|GPUBufferUsage[_0x37c23f(0x1bb)]});let _0x2f5f67=0x0;this['_device'][_0x37c23f(0x122)][_0x37c23f(0x10a)](this[_0x37c23f(0x194)],_0x2f5f67,this[_0x37c23f(0x18e)][_0x37c23f(0x105)]),_0x2f5f67+=this[_0x37c23f(0x18e)][_0x37c23f(0x105)][_0x37c23f(0x170)],this[_0x37c23f(0x195)]['queue'][_0x37c23f(0x10a)](this['_boxBuffer'],_0x2f5f67,this[_0x37c23f(0x18e)][_0x37c23f(0x134)]),_0x2f5f67+=this[_0x37c23f(0x18e)][_0x37c23f(0x134)][_0x37c23f(0x170)],this[_0x37c23f(0x195)][_0x37c23f(0x122)][_0x37c23f(0x10a)](this['_boxBuffer'],_0x2f5f67,this[_0x37c23f(0x18e)]['_front']),_0x2f5f67+=this[_0x37c23f(0x18e)]['_front'][_0x37c23f(0x170)],this['_device'][_0x37c23f(0x122)][_0x37c23f(0x10a)](this[_0x37c23f(0x194)],_0x2f5f67,this['_box']['_back']),_0x2f5f67+=this[_0x37c23f(0x18e)][_0x37c23f(0x158)][_0x37c23f(0x170)],this['_device']['queue'][_0x37c23f(0x10a)](this['_boxBuffer'],_0x2f5f67,this[_0x37c23f(0x18e)][_0x37c23f(0x186)]),_0x2f5f67+=this[_0x37c23f(0x18e)][_0x37c23f(0x186)]['byteLength'],this[_0x37c23f(0x195)][_0x37c23f(0x122)][_0x37c23f(0x10a)](this[_0x37c23f(0x194)],_0x2f5f67,this[_0x37c23f(0x18e)][_0x37c23f(0x149)]),_0x2f5f67+=this[_0x37c23f(0x18e)][_0x37c23f(0x149)][_0x37c23f(0x170)],this['_device'][_0x37c23f(0x122)][_0x37c23f(0x10a)](this[_0x37c23f(0x194)],_0x2f5f67,this['_box'][_0x37c23f(0x167)]),_0x2f5f67+=this[_0x37c23f(0x18e)][_0x37c23f(0x167)][_0x37c23f(0x170)],this[_0x37c23f(0x195)][_0x37c23f(0x122)][_0x37c23f(0x10a)](this[_0x37c23f(0x194)],_0x2f5f67,this[_0x37c23f(0x18e)][_0x37c23f(0x1b9)]),this[_0x37c23f(0x204)]=this[_0x37c23f(0x195)][_0x37c23f(0x221)]({'label':_0x37c23f(0x1c4)+this['getName'](),'size':0x18*Float32Array[_0x37c23f(0x21b)],'usage':GPUBufferUsage[_0x37c23f(0x1dd)]|GPUBufferUsage['COPY_DST']});}[_0x1f78c1(0x14e)](){const _0x27edcf=_0x1f78c1;this[_0x27edcf(0x17a)][0x0]=(this[_0x27edcf(0x17a)][0x0]+0x1)%0x3;switch(this[_0x27edcf(0x17a)][0x0]){case 0x0:return _0x27edcf(0x187);case 0x1:return _0x27edcf(0x20f);case 0x2:return'Enabled\x20Tone\x20Shading';}}[_0x1f78c1(0x139)](){const _0x4b2cad=_0x1f78c1;this[_0x4b2cad(0x17a)][0x1]=(this[_0x4b2cad(0x17a)][0x1]+0x1)%0x3;switch(this[_0x4b2cad(0x17a)][0x1]){case 0x0:return _0x4b2cad(0x20e);case 0x1:return'Enabled\x20Directional\x20Light';case 0x2:return _0x4b2cad(0x1b8);}}[_0x1f78c1(0x12a)](){const _0x54445d=_0x1f78c1;this[_0x54445d(0x13f)]['updateSize'](this[_0x54445d(0x1a3)],this['_imgHeight']),this['_device'][_0x54445d(0x122)][_0x54445d(0x10a)](this[_0x54445d(0x180)],this[_0x54445d(0x13f)][_0x54445d(0x105)][_0x54445d(0x170)]+this[_0x54445d(0x13f)][_0x54445d(0x12d)]['byteLength'],this[_0x54445d(0x13f)][_0x54445d(0x14a)]);}['updateBoxPose'](){const _0x58889e=_0x1f78c1;this['_device']['queue'][_0x58889e(0x10a)](this[_0x58889e(0x194)],0x0,this[_0x58889e(0x18e)][_0x58889e(0x105)]);}[_0x1f78c1(0x13d)](){const _0x13232b=_0x1f78c1;this[_0x13232b(0x195)][_0x13232b(0x122)][_0x13232b(0x10a)](this[_0x13232b(0x194)],this[_0x13232b(0x18e)]['_pose']['byteLength'],this[_0x13232b(0x18e)][_0x13232b(0x134)]);}[_0x1f78c1(0x20d)](){const _0x2523c4=_0x1f78c1;this[_0x2523c4(0x195)]['queue'][_0x2523c4(0x10a)](this['_cameraBuffer'],0x0,this[_0x2523c4(0x13f)][_0x2523c4(0x105)]);}[_0x1f78c1(0x200)](){const _0x3c21df=_0x1f78c1;this[_0x3c21df(0x195)]['queue'][_0x3c21df(0x10a)](this[_0x3c21df(0x180)],this[_0x3c21df(0x13f)]['_pose'][_0x3c21df(0x170)],this[_0x3c21df(0x13f)][_0x3c21df(0x12d)]);}[_0x1f78c1(0x13e)](_0x14a4a8){const _0x2470d7=_0x1f78c1;let _0x3e1399=0x0;this['_device'][_0x2470d7(0x122)][_0x2470d7(0x10a)](this[_0x2470d7(0x204)],_0x3e1399,_0x14a4a8[_0x2470d7(0x211)]),_0x3e1399+=_0x14a4a8[_0x2470d7(0x211)]['byteLength'],this['_device'][_0x2470d7(0x122)][_0x2470d7(0x10a)](this[_0x2470d7(0x204)],_0x3e1399,_0x14a4a8[_0x2470d7(0x130)]),_0x3e1399+=_0x14a4a8[_0x2470d7(0x130)][_0x2470d7(0x170)],this[_0x2470d7(0x195)][_0x2470d7(0x122)][_0x2470d7(0x10a)](this[_0x2470d7(0x204)],_0x3e1399,_0x14a4a8[_0x2470d7(0x109)]),_0x3e1399+=_0x14a4a8[_0x2470d7(0x109)][_0x2470d7(0x170)],this[_0x2470d7(0x195)][_0x2470d7(0x122)][_0x2470d7(0x10a)](this[_0x2470d7(0x204)],_0x3e1399,_0x14a4a8[_0x2470d7(0x1ab)]),_0x3e1399+=_0x14a4a8[_0x2470d7(0x1ab)]['byteLength'],this[_0x2470d7(0x195)][_0x2470d7(0x122)]['writeBuffer'](this[_0x2470d7(0x204)],_0x3e1399,_0x14a4a8[_0x2470d7(0x17e)]),_0x3e1399+=_0x14a4a8['_params']['byteLength'],this[_0x2470d7(0x195)][_0x2470d7(0x122)]['writeBuffer'](this['_lightBuffer'],_0x3e1399,this['_lightMode']);}async['createShaders'](){const _0x2189e9=_0x1f78c1;let _0x56d838=await this[_0x2189e9(0x21e)](_0x2189e9(0x1a9));this[_0x2189e9(0x142)]=this['_device'][_0x2189e9(0x202)]({'label':_0x2189e9(0x20c)+this['getName'](),'code':_0x56d838}),this[_0x2189e9(0x228)]=this[_0x2189e9(0x195)][_0x2189e9(0x10e)]({'label':_0x2189e9(0x160)+this['getName'](),'entries':[{'binding':0x0,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x2189e9(0x218)],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0x2189e9(0x218)],'storageTexture':{'format':this[_0x2189e9(0x175)]}},{'binding':0x3,'visibility':GPUShaderStage[_0x2189e9(0x218)],'buffer':{}}]}),this[_0x2189e9(0x10c)]=this[_0x2189e9(0x195)][_0x2189e9(0x1c0)]({'label':_0x2189e9(0x1a2),'bindGroupLayouts':[this[_0x2189e9(0x228)]]});}async[_0x1f78c1(0x172)](){const _0x52ddea=_0x1f78c1;this['_computePipeline']=this['_device'][_0x52ddea(0x172)]({'label':'Ray\x20Trace\x20Box\x20Orthogonal\x20Pipeline\x20'+this['getName'](),'layout':this[_0x52ddea(0x10c)],'compute':{'module':this[_0x52ddea(0x142)],'entryPoint':_0x52ddea(0x173)}}),this['_computeProjectivePipeline']=this[_0x52ddea(0x195)][_0x52ddea(0x172)]({'label':_0x52ddea(0x1bf)+this[_0x52ddea(0x198)](),'layout':this[_0x52ddea(0x10c)],'compute':{'module':this['_shaderModule'],'entryPoint':'computeProjectiveMain'}});}[_0x1f78c1(0x1ed)](_0x35d16c){const _0x433d0f=_0x1f78c1;this['_bindGroup']=this[_0x433d0f(0x195)][_0x433d0f(0x1ed)]({'label':'Ray\x20Trace\x20Box\x20Bind\x20Group','layout':this[_0x433d0f(0x117)][_0x433d0f(0x1d1)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x433d0f(0x180)]}},{'binding':0x1,'resource':{'buffer':this[_0x433d0f(0x194)]}},{'binding':0x2,'resource':_0x35d16c[_0x433d0f(0x135)]()},{'binding':0x3,'resource':{'buffer':this['_lightBuffer']}}]}),this[_0x433d0f(0x18b)]=Math[_0x433d0f(0x15c)](_0x35d16c[_0x433d0f(0x1c7)]),this[_0x433d0f(0x1bd)]=Math[_0x433d0f(0x15c)](_0x35d16c['height']);}[_0x1f78c1(0x1a0)](_0x212955){const _0x5bc218=_0x1f78c1;switch(this[_0x5bc218(0x13f)]?.[_0x5bc218(0x1db)]){case 0x0:_0x212955[_0x5bc218(0x1e9)](this[_0x5bc218(0x169)]);break;case 0x1:_0x212955['setPipeline'](this['_computePipeline']);break;default:_0x212955[_0x5bc218(0x1e9)](this[_0x5bc218(0x169)]);break;}_0x212955[_0x5bc218(0x1b5)](0x0,this[_0x5bc218(0x1f0)]),_0x212955[_0x5bc218(0x11a)](Math[_0x5bc218(0x15c)](this['_wgWidth']/0x10),Math[_0x5bc218(0x15c)](this['_wgHeight']/0x10));}}class Camera{constructor(_0x227639,_0x31dc1d,_0x440da3=0x0,_0x9fa7e=[0x1,0x1]){const _0x38b14b=_0x1f78c1;this['_pose']=new Float32Array(Array(0x10)[_0x38b14b(0x11f)](0x0)),this[_0x38b14b(0x105)][0x0]=0x1,this['_focal']=new Float32Array(0x2),this[_0x38b14b(0x12d)][0x0]=_0x9fa7e[0x0],this['_focal'][0x1]=_0x9fa7e[0x1],this[_0x38b14b(0x14a)]=new Float32Array([_0x227639,_0x31dc1d]),this[_0x38b14b(0x1db)]=_0x440da3;}[_0x1f78c1(0x179)](_0x9157af){const _0x1473e1=_0x1f78c1;if(this[_0x1473e1(0x12d)][0x0]+_0x9157af>0x0){this[_0x1473e1(0x12d)][0x0]+=_0x9157af;if(_0x9157af<0x0)return _0x1473e1(0x14c);else{if(_0x9157af>0x0)return _0x1473e1(0x15a);}}}[_0x1f78c1(0x154)](_0x34b9b7){const _0x5a0708=_0x1f78c1;if(this['_focal'][0x1]+_0x34b9b7>0x0){this[_0x5a0708(0x12d)][0x1]+=_0x34b9b7;if(_0x34b9b7<0x0)return'Decreased\x20Camera\x20Focal\x20Y';else{if(_0x34b9b7>0x0)return _0x5a0708(0x143);}}}[_0x1f78c1(0x219)](){const _0x34d417=_0x1f78c1;this[_0x34d417(0x1db)]=(this['_cameraMode']+0x1)%0x2;switch(this[_0x34d417(0x1db)]){case 0x0:return _0x34d417(0x205);case 0x1:return _0x34d417(0x1a1);}}['resetPose'](){const _0x2a90f2=_0x1f78c1;this[_0x2a90f2(0x105)][0x0]=0x1;for(let _0x10b3c5=0x1;_0x10b3c5<0x10;++_0x10b3c5)this[_0x2a90f2(0x105)][_0x10b3c5]=0x0;this['_focal'][0x0]=0x1,this[_0x2a90f2(0x12d)][0x1]=0x1;}[_0x1f78c1(0x1fe)](_0x270e85){const _0x450390=_0x1f78c1;for(let _0x1a50a9=0x0;_0x1a50a9<0x10;++_0x1a50a9)this[_0x450390(0x105)][_0x1a50a9]=_0x270e85[_0x1a50a9];}[_0x1f78c1(0x102)](_0x7a5c5f,_0x4a1251){const _0x53ab3f=_0x1f78c1;this[_0x53ab3f(0x14a)][0x0]=_0x7a5c5f,this['_resolutions'][0x1]=_0x4a1251;}['moveX'](_0x11f838){const _0x452f70=_0x1f78c1;let _0x487143=PGA3D['applyMotorToPoint']([_0x11f838,0x0,0x0],PGA3D[_0x452f70(0x1cb)](this[_0x452f70(0x105)])),_0x324811=PGA3D['createTranslator'](_0x487143[0x0],_0x487143[0x1],_0x487143[0x2]),_0x92ab83=PGA3D[_0x452f70(0x144)](_0x324811,this[_0x452f70(0x105)]);this['updatePose'](_0x92ab83);if(_0x11f838<0x0)return _0x452f70(0x212);else{if(_0x11f838>0x0)return _0x452f70(0x191);}}[_0x1f78c1(0x103)](_0x28dae2){const _0x478ba9=_0x1f78c1;let _0x4cc8e9=PGA3D['applyMotorToPoint']([0x0,_0x28dae2,0x0],PGA3D[_0x478ba9(0x1cb)](this[_0x478ba9(0x105)])),_0x1f0c2f=PGA3D[_0x478ba9(0x20a)](_0x4cc8e9[0x0],_0x4cc8e9[0x1],_0x4cc8e9[0x2]),_0x2db053=PGA3D[_0x478ba9(0x144)](_0x1f0c2f,this[_0x478ba9(0x105)]);this['updatePose'](_0x2db053);if(_0x28dae2<0x0)return'Moved\x20Camera\x20in\x20-Y';else{if(_0x28dae2>0x0)return _0x478ba9(0x1ca);}}[_0x1f78c1(0x223)](_0x32f20e){const _0x565aeb=_0x1f78c1;let _0x54e403=PGA3D[_0x565aeb(0x201)]([0x0,0x0,_0x32f20e],PGA3D[_0x565aeb(0x1cb)](this[_0x565aeb(0x105)])),_0x558591=PGA3D['createTranslator'](_0x54e403[0x0],_0x54e403[0x1],_0x54e403[0x2]),_0x504bad=PGA3D[_0x565aeb(0x144)](_0x558591,this[_0x565aeb(0x105)]);this['updatePose'](_0x504bad);if(_0x32f20e<0x0)return _0x565aeb(0x225);else{if(_0x32f20e>0x0)return _0x565aeb(0x153);}}[_0x1f78c1(0x121)](_0x4a8096){const _0x4f5963=_0x1f78c1;let _0x438d72=PGA3D[_0x4f5963(0x201)]([0x0,0x0,0x0],this[_0x4f5963(0x105)]),_0x447319=PGA3D[_0x4f5963(0x10b)]([0x1,0x0,0x0],this[_0x4f5963(0x105)]),_0x4ddf63=PGA3D[_0x4f5963(0x11b)](_0x4a8096*Math['PI']/0x5a,_0x447319[0x0],_0x447319[0x1],_0x447319[0x2],_0x438d72[0x0],_0x438d72[0x1],_0x438d72[0x2]),_0x1c21cf=PGA3D[_0x4f5963(0x144)](_0x4ddf63,this[_0x4f5963(0x105)]);this[_0x4f5963(0x1fe)](_0x1c21cf);if(_0x4a8096<0x0)return _0x4f5963(0x184);else{if(_0x4a8096>0x0)return _0x4f5963(0x22d);}}['rotateY'](_0x3f0e12){const _0x4b9d7c=_0x1f78c1;let _0x1768ef=PGA3D['applyMotorToPoint']([0x0,0x0,0x0],this[_0x4b9d7c(0x105)]),_0x1a60e0=PGA3D[_0x4b9d7c(0x10b)]([0x0,0x1,0x0],this[_0x4b9d7c(0x105)]),_0x23f578=PGA3D[_0x4b9d7c(0x11b)](_0x3f0e12*Math['PI']/0x5a,_0x1a60e0[0x0],_0x1a60e0[0x1],_0x1a60e0[0x2],_0x1768ef[0x0],_0x1768ef[0x1],_0x1768ef[0x2]),_0x537c09=PGA3D[_0x4b9d7c(0x144)](_0x23f578,this[_0x4b9d7c(0x105)]);this[_0x4b9d7c(0x1fe)](_0x537c09);if(_0x3f0e12<0x0)return _0x4b9d7c(0x128);else{if(_0x3f0e12>0x0)return _0x4b9d7c(0x108);}}[_0x1f78c1(0x16d)](_0x1a54d4){const _0x20f58f=_0x1f78c1;let _0x270eee=PGA3D['applyMotorToPoint']([0x0,0x0,0x0],this[_0x20f58f(0x105)]),_0x3ee168=PGA3D[_0x20f58f(0x10b)]([0x0,0x0,0x1],this[_0x20f58f(0x105)]),_0x1c48ac=PGA3D['createRotor'](_0x1a54d4*Math['PI']/0x5a,_0x3ee168[0x0],_0x3ee168[0x1],_0x3ee168[0x2],_0x270eee[0x0],_0x270eee[0x1],_0x270eee[0x2]),_0x332786=PGA3D[_0x20f58f(0x144)](_0x1c48ac,this[_0x20f58f(0x105)]);this[_0x20f58f(0x1fe)](_0x332786);if(_0x1a54d4<0x0)return'Rotated\x20Camera\x20Around\x20-Z';else{if(_0x1a54d4>0x0)return _0x20f58f(0x1c8);}}}class Light{constructor(){const _0x15fd8a=_0x1f78c1;this[_0x15fd8a(0x211)]=new Float32Array(Array(0x4)[_0x15fd8a(0x11f)](0x0)),this[_0x15fd8a(0x130)]=new Float32Array(Array(0x4)['fill'](0x0)),this['_direction']=new Float32Array(Array(0x4)[_0x15fd8a(0x11f)](0x0)),this[_0x15fd8a(0x1ab)]=new Float32Array(Array(0x4)[_0x15fd8a(0x11f)](0x0)),this[_0x15fd8a(0x1ab)][0x0]=0x1,this[_0x15fd8a(0x17e)]=new Float32Array(Array(0x4)[_0x15fd8a(0x11f)](0x0));}}class PointLight extends Light{constructor(_0x14f944=[0x1,0x1,0x1],_0x2998b9=[0x0,0x0,0x0],_0x58b01d=[0x1,0.1,0.01]){const _0x4a099c=_0x1f78c1;super();for(let _0x3b344b=0x0;_0x3b344b<0x3;++_0x3b344b){this[_0x4a099c(0x211)][_0x3b344b]=_0x14f944[_0x3b344b],this[_0x4a099c(0x130)][_0x3b344b]=_0x2998b9[_0x3b344b],this[_0x4a099c(0x1ab)][_0x3b344b]=_0x58b01d[_0x3b344b];}}}class DirectionalLight extends Light{constructor(_0x2353bc=[0x1,0x1,0x1],_0x5724df=[Math[_0x1f78c1(0x16e)](0x3),Math[_0x1f78c1(0x16e)](0x3),Math[_0x1f78c1(0x16e)](0x3)]){const _0xb78fb8=_0x1f78c1;super();for(let _0x524617=0x0;_0x524617<0x3;++_0x524617){this[_0xb78fb8(0x211)][_0x524617]=_0x2353bc[_0x524617],this[_0xb78fb8(0x109)][_0x524617]=_0x5724df[_0x524617];}}}class SpotLight extends Light{constructor(_0x13a9af=[0x1,0x1,0x1],_0x4d3c3c=[0x0,0x0,0x0],_0x1bf7b0=[0x0,0x1,0x0],_0x52f18b=[0x1,0.1,0.01],_0x54f2ae=0.785,_0x231970=0x5){const _0x371a34=_0x1f78c1;super();for(let _0x207979=0x0;_0x207979<0x3;++_0x207979){this[_0x371a34(0x211)][_0x207979]=_0x13a9af[_0x207979],this['_position'][_0x207979]=_0x4d3c3c[_0x207979],this[_0x371a34(0x109)][_0x207979]=_0x1bf7b0[_0x207979],this[_0x371a34(0x1ab)][_0x207979]=_0x52f18b[_0x207979];}this[_0x371a34(0x17e)][0x0]=_0x54f2ae,this[_0x371a34(0x17e)][0x1]=_0x231970;}}async function init(){const _0x246085=_0x1f78c1,_0x190266=document['createElement']('canvas');_0x190266['id']=_0x246085(0x1d8),document[_0x246085(0x151)][_0x246085(0x1c6)](_0x190266);const _0x4d2845=new RayTracer(_0x190266);await _0x4d2845[_0x246085(0x107)]();var _0x457692=new Camera(),_0x15f5c7=new RayTracingBoxLightObject(_0x4d2845[_0x246085(0x195)],_0x4d2845[_0x246085(0x175)],_0x457692);await _0x4d2845[_0x246085(0x14f)](_0x15f5c7);var _0x40c70e=[new PointLight(),new DirectionalLight(),new SpotLight()];_0x15f5c7['updateLight'](_0x40c70e[_0x15f5c7[_0x246085(0x17a)][0x1]]);let _0x3d1315='??';var _0x350efc=new StandardTextObject(_0x246085(0x227)+_0x3d1315);_0x350efc[_0x246085(0x183)](StandardTextObject['CORNER'][_0x246085(0x15b)]);const _0x28b5d3=new StandardTextObject('WS:\x20Move\x20in\x20Z\x0a'+'AD:\x20Move\x20in\x20X\x0a'+_0x246085(0x217)+'QE:\x20Rotate\x20in\x20Z\x0a'+'Up/Down:\x20Rotate\x20in\x20X\x0a'+_0x246085(0x1f8)+'C:\x20Change\x20Camera\x20Mode\x0a'+_0x246085(0x150)+_0x246085(0x161)+_0x246085(0x18f)+_0x246085(0x1d5));_0x28b5d3[_0x246085(0x183)](StandardTextObject[_0x246085(0x126)][_0x246085(0x188)]);var _0x1e17c9=new PopupTextObject();_0x1e17c9['setPosition'](PopupTextObject[_0x246085(0x126)][_0x246085(0x19c)]);const _0x2eb794=0.05,_0x2816bc=0x1,_0x36e3e2=0.1,_0x2d4c91=0.1;document['addEventListener'](_0x246085(0x1b6),_0x12b98a=>{const _0x43f026=_0x246085;switch(_0x12b98a[_0x43f026(0x209)]){case'w':case'W':_0x1e17c9['popup'](_0x457692[_0x43f026(0x223)](_0x2eb794)),_0x15f5c7[_0x43f026(0x20d)]();break;case'a':case'A':_0x1e17c9['popup'](_0x457692[_0x43f026(0x104)](-_0x2eb794)),_0x15f5c7['updateCameraPose']();break;case's':case'S':_0x1e17c9['popup'](_0x457692['moveZ'](-_0x2eb794)),_0x15f5c7[_0x43f026(0x20d)]();break;case'd':case'D':_0x1e17c9[_0x43f026(0x18d)](_0x457692[_0x43f026(0x104)](_0x2eb794)),_0x15f5c7[_0x43f026(0x20d)]();break;case'\x20':_0x1e17c9[_0x43f026(0x18d)](_0x457692[_0x43f026(0x103)](-_0x2eb794)),_0x15f5c7['updateCameraPose']();break;case _0x43f026(0x133):_0x1e17c9[_0x43f026(0x18d)](_0x457692[_0x43f026(0x103)](_0x2eb794)),_0x15f5c7['updateCameraPose']();break;case'q':case'Q':_0x1e17c9[_0x43f026(0x18d)](_0x457692[_0x43f026(0x16d)](_0x2816bc)),_0x15f5c7[_0x43f026(0x20d)]();break;case'e':case'E':_0x1e17c9[_0x43f026(0x18d)](_0x457692[_0x43f026(0x16d)](-_0x2816bc)),_0x15f5c7['updateCameraPose']();break;case'ArrowUp':_0x1e17c9['popup'](_0x457692[_0x43f026(0x121)](-_0x2816bc)),_0x15f5c7[_0x43f026(0x20d)]();break;case _0x43f026(0x210):_0x1e17c9['popup'](_0x457692['rotateY'](_0x2816bc)),_0x15f5c7[_0x43f026(0x20d)]();break;case'ArrowDown':_0x1e17c9[_0x43f026(0x18d)](_0x457692['rotateX'](_0x2816bc)),_0x15f5c7[_0x43f026(0x20d)]();break;case _0x43f026(0x1f7):_0x1e17c9[_0x43f026(0x18d)](_0x457692['rotateY'](-_0x2816bc)),_0x15f5c7['updateCameraPose']();break;case'c':case'C':_0x1e17c9[_0x43f026(0x18d)](_0x457692[_0x43f026(0x219)]());break;case'-':_0x1e17c9['popup'](_0x457692[_0x43f026(0x179)](_0x36e3e2)),_0x15f5c7['updateCameraFocal']();break;case'=':_0x1e17c9['popup'](_0x457692['changeFocalX'](-_0x36e3e2)),_0x15f5c7[_0x43f026(0x200)]();break;case'[':_0x1e17c9['popup'](_0x457692[_0x43f026(0x154)](_0x2d4c91)),_0x15f5c7[_0x43f026(0x200)]();break;case']':_0x1e17c9['popup'](_0x457692['changeFocalY'](-_0x2d4c91)),_0x15f5c7['updateCameraFocal']();break;case'm':case'M':_0x1e17c9['popup'](_0x15f5c7[_0x43f026(0x14e)]()),_0x15f5c7[_0x43f026(0x13e)](_0x40c70e[_0x15f5c7[_0x43f026(0x17a)][0x1]]);break;case'l':case'L':_0x1e17c9['popup'](_0x15f5c7[_0x43f026(0x139)]()),_0x15f5c7[_0x43f026(0x13e)](_0x40c70e[_0x15f5c7['_lightMode'][0x1]]);break;}});var _0x50eed2=0x0,_0x1c86bd=0x3c,_0x177426=0x1/_0x1c86bd,_0x26a2e6=_0x177426*0x3e8,_0x5d4262;let _0x217813=()=>{const _0x2d3fc4=_0x246085;let _0x38b6df=Date[_0x2d3fc4(0x1c9)]()-_0x5d4262;_0x38b6df>_0x26a2e6&&(++_0x50eed2,_0x5d4262=Date[_0x2d3fc4(0x1c9)]()-_0x38b6df%_0x26a2e6,_0x4d2845[_0x2d3fc4(0x1e5)]()),requestAnimationFrame(_0x217813);};return _0x5d4262=Date['now'](),_0x217813(),setInterval(()=>{_0x350efc['updateText']('fps:\x20'+_0x50eed2),_0x50eed2=0x0;},0x3e8),_0x4d2845;}init()[_0x1f78c1(0x12e)](_0x5c9272=>{const _0x378f3f=_0x1f78c1;console[_0x378f3f(0x19d)](_0x5c9272);})[_0x1f78c1(0x220)](_0x2e8ff7=>{const _0x4aeab0=_0x1f78c1,_0x5b7c11=document[_0x4aeab0(0x166)]('p');_0x5b7c11[_0x4aeab0(0x1fd)]=navigator[_0x4aeab0(0x163)]+'</br>'+_0x2e8ff7[_0x4aeab0(0x1c3)],document[_0x4aeab0(0x151)][_0x4aeab0(0x1c6)](_0x5b7c11),document[_0x4aeab0(0x20b)](_0x4aeab0(0x1d8))[_0x4aeab0(0x120)]();});